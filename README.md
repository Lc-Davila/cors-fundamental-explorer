ğŸš€ DemonstraÃ§Ã£o de CORS (Cross-Origin Resource Sharing)Este repositÃ³rio contÃ©m um exemplo mÃ­nimo de arquitetura Cliente-Servidor (Frontend-Backend) para demonstrar como o mecanismo CORS funciona na prÃ¡tica, permitindo ou bloqueando requisiÃ§Ãµes entre diferentes origens (portas diferentes).âš™ï¸ ArquiteturaO projeto Ã© dividido em dois componentes principais:Backend (API Server): Uma API simples construÃ­da com Node.js e Express rodando na porta 8080.Frontend (Cliente): Um arquivo HTML simples com JavaScript que tenta fazer requisiÃ§Ãµes para a API, rodando (simuladamente) na porta 3000.ComponenteLinguagem/FrameworkPorta de OrigemBackendNode.js / Express8080 (Destino da RequisiÃ§Ã£o)FrontendHTML / JavaScript3000 (Origem da RequisiÃ§Ã£o)ğŸ“‚ Estrutura do ProjetoÃ‰ sugerido criar a seguinte estrutura para os arquivos refatorados:.
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app.js       # ConfiguraÃ§Ã£o do Express e Middlewares (CORS)
â”‚   â””â”€â”€ server.js    # InicializaÃ§Ã£o do Servidor (listen)
â””â”€â”€ frontend/
    â””â”€â”€ index.html   # Cliente HTML/JS
1. Backend (backend/app.js e backend/server.js)Funcionalidade PrincipalO backend expÃµe uma Ãºnica rota /api/mensagem que retorna um objeto JSON. Ele utiliza o middleware cors para controlar quais origens externas podem acessar a rota.âš ï¸ IMPORTANTE: O arquivo backend/app.js Ã© a chave da demonstraÃ§Ã£o. Para alternar entre sucesso e falha de CORS, vocÃª deve comentar ou descomentar a linha:JavaScript// app.use(cors(corsOptions)); 
2. Frontend (frontend/index.html)Funcionalidade PrincipalO cliente, simulando estar em uma porta diferente (3000), utiliza a API fetch para tentar se comunicar com o backend em 8080. O cÃ³digo JavaScript possui um tratamento de erro que tenta diagnosticar e informar o usuÃ¡rio sobre uma provÃ¡vel falha de CORS, instruindo-o a verificar o console do navegador.ğŸ› ï¸ Como Testar (Passo a Passo)Para executar esta demonstraÃ§Ã£o, siga estes passos:A. Inicializar o BackendCertifique-se de ter o Node.js instalado.Instale as dependÃªncias:Bashnpm install express cors dotenv
Execute o servidor a partir do diretÃ³rio backend:Bashnode server.js
VocÃª verÃ¡ a mensagem: âœ… Servidor rodando em: http://localhost:8080B. Simular a Origem do FrontendAbra o arquivo frontend/index.html diretamente no seu navegador.Abra o Console do desenvolvedor (Geralmente F12).CenÃ¡rios de Teste#CenÃ¡rioAÃ§Ã£o no app.jsResultado no FrontendResultado no Console1Sucesso CORSDescomentar app.use(cors(corsOptions));Exibe o JSON de sucesso.Nenhuma mensagem de erro.2Falha CORSComentar app.use(cors(corsOptions));Exibe a mensagem de âŒ FALHA NA REQUISIÃ‡ÃƒO.Mostra o erro de seguranÃ§a (e.g., CORS policy)
